
@{
    ViewBag.Title = "Results";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model CalledThat.ViewModels.Game.ResultsViewModel

<h1 class="page-header">Results</h1>

<div class="row">
    <div class="col-lg-6">
        <div class="panel panel-primary">
            <div class="panel-heading">
                Gameweek results
            </div>
            <div class="panel-body">
                <p class="demo demo2"></p>
                <div id="results-container">
                    @Html.Partial("~/Views/Game/Partials/_GameweekResults.cshtml")
                </div>
            </div>
            <div class="panel-footer">
                
            </div>           

            </div>
            <!-- /.panel -->
        </div>
    </div>
<script type="text/javascript">
    $(function () {
        $('.demo2').bootpag({
            total: @Model.TotalGameweeks,
            page: "@Model.Gameweek",
            maxVisible: 10
        }).on('page', function (event, num) {
            $.ajax({
                url: "@Url.Action("Results","Game")",
                data: {week: num},
                success: function(data) {
                    $('#results-container').html(data);
                }
            });
            //window.location = "/game/results/" + num;
            //$(".content2").html("Page " + num); // or some ajax content loading...
        });
    });
    
</script>